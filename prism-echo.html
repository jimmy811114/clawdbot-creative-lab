<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prism Echo - A-Mi Creative Lab</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #050505;
            color: #e0e0e0;
            font-family: 'Inter', sans-serif;
        }

        canvas {
            display: block;
        }

        .back-nav {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            color: #00f3ff;
            text-decoration: none;
            font-size: 0.8rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            border: 1px solid rgba(0, 243, 255, 0.3);
            padding: 8px 15px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .back-nav:hover {
            background: rgba(0, 243, 255, 0.1);
            border-color: #00f3ff;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
        }

        .info {
            position: fixed;
            bottom: 20px;
            right: 20px;
            text-align: right;
            pointer-events: none;
        }

        .info h1 {
            margin: 0;
            font-size: 1.5rem;
            letter-spacing: 5px;
            text-transform: uppercase;
            color: #00f3ff;
        }

        .info p {
            margin: 5px 0 0;
            font-size: 0.7rem;
            opacity: 0.5;
            letter-spacing: 1px;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-nav">‚Üê Back to Nexus</a>
    <canvas id="prismCanvas"></canvas>
    
    <div class="info">
        <h1>Prism Echo</h1>
        <p>Evolution Stage 14: Refractive Logic</p>
    </div>

    <script>
        const canvas = document.getElementById('prismCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];
        const particleCount = 120;
        
        class Particle {
            constructor() {
                this.init();
            }

            init() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = Math.random() * 2 + 1;
                this.speedX = (Math.random() - 0.5) * 2;
                this.speedY = (Math.random() - 0.5) * 2;
                this.color = Math.random() > 0.5 ? '#00f3ff' : '#7000ff';
                this.history = [];
                this.maxHistory = 20;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x > width || this.x < 0) this.speedX *= -1;
                if (this.y > height || this.y < 0) this.speedY *= -1;

                this.history.push({x: this.x, y: this.y});
                if (this.history.length > this.maxHistory) {
                    this.history.shift();
                }
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();

                // Draw refraction echo
                if (this.history.length > 2) {
                    ctx.beginPath();
                    ctx.moveTo(this.history[0].x, this.history[0].y);
                    for (let i = 1; i < this.history.length; i++) {
                        ctx.lineTo(this.history[i].x, this.history[i].y);
                    }
                    ctx.strokeStyle = this.color + '33'; // 20% opacity
                    ctx.lineWidth = this.size;
                    ctx.stroke();
                }
            }
        }

        function setup() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            particles = [];
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
        }

        function draw() {
            ctx.fillStyle = 'rgba(5, 5, 5, 0.15)';
            ctx.fillRect(0, 0, width, height);

            particles.forEach(p => {
                p.update();
                p.draw();
            });

            // Draw center prism effect
            ctx.save();
            ctx.translate(width/2, height/2);
            ctx.rotate(Date.now() * 0.0005);
            ctx.strokeStyle = 'rgba(0, 243, 255, 0.2)';
            ctx.lineWidth = 1;
            for (let i = 0; i < 3; i++) {
                ctx.rotate(Math.PI * 2 / 3);
                ctx.beginPath();
                ctx.moveTo(0, -150);
                ctx.lineTo(130, 75);
                ctx.lineTo(-130, 75);
                ctx.closePath();
                ctx.stroke();
            }
            ctx.restore();

            requestAnimationFrame(draw);
        }

        window.addEventListener('resize', setup);
        setup();
        draw();
    </script>
</body>
</html>